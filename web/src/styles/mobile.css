/* Mobile-First Responsive Utilities */

/* Typography Scaling */
:root {
  --font-size-xs: clamp(0.75rem, 2vw, 0.875rem);
  --font-size-sm: clamp(0.875rem, 2.5vw, 1rem);
  --font-size-base: clamp(1rem, 3vw, 1.125rem);
  --font-size-lg: clamp(1.125rem, 3.5vw, 1.25rem);
  --font-size-xl: clamp(1.25rem, 4vw, 1.5rem);
  --font-size-2xl: clamp(1.5rem, 5vw, 2rem);
  --font-size-3xl: clamp(2rem, 6vw, 3rem);
  
  /* Spacing */
  --spacing-section: 64px;
  --spacing-element: 24px;
  --spacing-card: 24px;
  --spacing-gap: 16px;
  
  /* Touch targets */
  --touch-target-min: 48px;
}

@media (max-width: 768px) {
  :root {
    --spacing-section: 24px;
    --spacing-element: 12px;
    --spacing-card: 12px;
    --spacing-gap: 12px;
  }
  
  /* Prevent iOS zoom on input focus */
  input, textarea, select {
    font-size: 16px !important;
  }
}

/* Adaptive Card Sizing - Compact Mobile Layout */
@media (max-width: 768px) {
  .card,
  [class*="card-"] {
    padding: 8px 12px;
    margin-bottom: 8px;
    font-size: 0.875rem;
  }
  
  .card-grid,
  .responsive-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
  }
  
  /* Hero Logo - Smaller on Mobile */
  .hero-logo-img {
    max-width: 120px !important;
    height: auto !important;
  }
  
  /* Ensure bottom nav is always visible on mobile */
  body {
    padding-bottom: 80px !important;
  }
  
  .app-main {
    padding-bottom: 90px !important;
    min-height: calc(100vh - 140px);
  }
  
  .card__header {
    font-size: 0.875rem;
    margin-bottom: 4px;
  }
  
  .card__body {
    font-size: 0.75rem;
    line-height: 1.3;
  }
  
  /* Entity cards should be compact */
  .entity-card {
    padding: 8px;
  }
  
  .entity-card__title {
    font-size: 0.875rem;
  }
  
  .entity-card__meta {
    font-size: 0.7rem;
  }
}

/* 2 columns on very small screens */
@media (max-width: 480px) {
  .card-grid,
  .responsive-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  /* Force single column only for specific components */
  .full-width-mobile {
    grid-template-columns: 1fr !important;
  }
}

/* Touch-Optimized Interactive Elements */
.touch-target,
button,
a[role="button"],
[role="button"] {
  min-width: var(--touch-target-min);
  min-height: var(--touch-target-min);
  padding: 12px 16px;
  -webkit-tap-highlight-color: transparent;
}

/* Increase spacing between interactive elements */
@media (max-width: 768px) {
  button + button,
  a + button,
  button + a {
    margin-left: 16px;
  }
}

/* Disable hover-specific styling on touch devices */
@media (hover: none) {
  a:hover,
  button:hover,
  [role="button"]:hover {
    filter: none !important;
    box-shadow: none !important;
    transform: none !important;
    text-decoration: none !important;
  }
}

/* Context-Aware Spacing */
@media (max-width: 768px) {
  section,
  .section {
    padding: var(--spacing-section) 16px;
  }
  
  .container {
    padding-left: 16px;
    padding-right: 16px;
  }
  
  h1 { margin-bottom: 16px; }
  h2 { margin-bottom: 12px; }
  h3 { margin-bottom: 8px; }
  
  p + p { margin-top: 12px; }
}

/* Mobile-Optimized Grids - Maximized Density */
@media (max-width: 768px) {
  .responsive-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
  }
  
  /* Domain and dictionary grids */
  .domains-grid,
  .dictionary-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
  }
}

@media (max-width: 480px) {
  .responsive-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .domains-grid,
  .dictionary-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Hide desktop navigation on mobile */
@media (max-width: 768px) {
  .desktop-nav {
    display: none;
  }
  
  /* Add bottom padding to account for mobile nav */
  main,
  .main-content {
    padding-bottom: calc(72px + env(safe-area-inset-bottom));
  }
  
  /* Fixed positioning for mobile navigation */
  .mobile-nav,
  .bottom-nav {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 1000 !important;
  }
  
  /* Fixed positioning for hamburger menu */
  .mobile-menu,
  .hamburger-menu {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 999 !important;
  }
}

/* Show mobile navigation only on small screens */
@media (min-width: 769px) {
  .mobile-nav {
    display: none !important;
  }
}

/* Full-width inputs on mobile */
@media (max-width: 768px) {
  input[type="text"],
  input[type="email"],
  input[type="search"],
  input[type="tel"],
  input[type="url"],
  textarea,
  select {
    width: 100%;
    font-size: 16px;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --border-color: #ffffff;
    --text-color: #ffffff;
    --background-color: #000000;
  }
}

/* Landscape orientation adjustments */
@media (max-height: 500px) and (orientation: landscape) {
  .mobile-nav {
    padding: 4px 0 calc(4px + env(safe-area-inset-bottom));
  }
  
  .mobile-nav__item {
    min-height: 48px;
    padding: 6px 12px;
  }
  
  .mobile-nav__label {
    display: none;
  }
}

/* Utility Classes */
.mobile-only {
  display: none;
}

@media (max-width: 768px) {
  .mobile-only {
    display: block;
  }
  
  .desktop-only {
    display: none !important;
  }
}

.mobile-hidden {
  display: block;
}

@media (max-width: 768px) {
  .mobile-hidden {
    display: none !important;
  }
}

/* Compact view mode */
@media (max-width: 768px) {
  .view-compact .card {
    padding: 6px;
    margin-bottom: 6px;
  }
  
  .view-compact .card__header {
    font-size: var(--font-size-sm);
  }
  
  .view-compact .card__body {
    font-size: var(--font-size-xs);
  }
  
  /* Reduce hero logo sizes */
  .hero-section {
    padding: 32px 16px;
  }
  
  /* Compact sections */
  section,
  .section {
    padding: 32px 16px;
  }
  
  /* Reduce heading sizes for better density */
  h1 { 
    font-size: 1.75rem;
    margin-bottom: 12px; 
  }
  h2 { 
    font-size: 1.5rem;
    margin-bottom: 10px; 
  }
  h3 { 
    font-size: 1.25rem;
    margin-bottom: 8px; 
  }
}

/* Additional mobile logo constraints */
@media (max-width: 768px) {
  /* Navbar logo stays small */
  .nav-logo,
  .app-header__logo img,
  .mobile-header__logo img {
    max-width: 120px !important;
    height: auto !important;
  }
  
  /* Home page logo can be bigger */
  .hero-logo-image,
  .hero__logo img,
  [class*="home"] .logo img {
    max-width: 240px !important;
  }
}

@media (max-width: 480px) {
  .nav-logo,
  .app-header__logo img,
  .mobile-header__logo img {
    max-width: 100px !important;
  }
  
  .hero-logo-image,
  .hero__logo img,
  [class*="home"] .logo img {
    max-width: 200px !important;
  }
}

